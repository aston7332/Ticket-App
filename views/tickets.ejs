<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/11.0.1/classic/ckeditor.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> -->

    <script>
      $(document).ready(() => {
        $("#image").change(function () {
          const file = this.files[0];
          if (file) {
            let reader = new FileReader();
            reader.onload = function (event) {
              $("#imgShow").attr("src", event.target.result);
              $("abc").css("display", "block");
            };
            reader.readAsDataURL(file);
          }
        });
        $("#image").on("change", function () {
          $("#show").css("display", "block");
        });
      });
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link active" aria-current="page" href="/"
              ><b>Home</b></a
            >
            <a class="nav-link" href="/list"><b>List</b></a>
          </div>
        </div>
      </div>
    </nav>
    <div
      class="container col-4 col-offset-2 p-5 shadow-lg p-3 mb-5 bg-body rounded mt-5"
    >
      <div class="container" style="background-color: #eee">
        <div class="col-12 justify-content-center pb-3">
          <form method="POST" enctype="multipart/form-data">
            <input type="hidden" name="_csrf" value="<%= `${csrfToken}` %>" />
            <div class="container">
              <div class="row justify-content-md-center">
                <div class="col-md-auto mt-2">
                  <h1 style="color: green">Tickets</h1>
                </div>
              </div>
            </div>
            <div class="mb-3">
              <label for="task" class="form-label">Task :</label>
              <input
                type="text"
                class="form-control"
                id="task"
                aria-describedby="task"
                name="task"
              />
            </div>
            <div class="mb-3">
              <label for="dis" class="form-label text-wrap"
                >Discription :</label
              >
              <textarea class="form-control" id="dis" name="dis"></textarea>
              <script>
                ClassicEditor.create(document.querySelector("#dis")).catch(
                  (error) => {
                    console.error(error);
                  }
                );
              </script>
            </div>
            <div class="mb-3">
              <label for="task" class="form-label">Image :</label>
              <input
                type="file"
                class="form-control"
                name="image"
                id="image"
                required
              /><br />
              <div
                id="show"
                class="mb-3 mt abc"
                style="
                  height: 200px;
                  width: 200px;
                  border: 2px solid black;
                  display: none;
                "
              >
                <img
                  src="#"
                  id="imgShow"
                  class="imgShow"
                  style="height: 200px; width: 200px"
                />
              </div>
            </div>
            <div class="mb-3">
              <button
                type="submit"
                class="btn bg-white rounded-pill mb-3 border border-primary"
              >
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
